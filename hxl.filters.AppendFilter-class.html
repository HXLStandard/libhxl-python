<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>hxl.filters.AppendFilter</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="hxl-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="hxl-module.html">Package&nbsp;hxl</a> ::
        <a href="hxl.filters-module.html">Module&nbsp;filters</a> ::
        Class&nbsp;AppendFilter
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class AppendFilter</h1><p class="nomargin-top"><span class="codelink"><a href="hxl.filters-pysrc.html#AppendFilter">source&nbsp;code</a></span></p>
<pre class="base-tree">
    object --+        
             |        
 <a href="hxl.model.Dataset-class.html">model.Dataset</a> --+    
                 |    
<a href="hxl.filters.AbstractBaseFilter-class.html">AbstractBaseFilter</a> --+
                     |
                    <strong class="uidshort">AppendFilter</strong>
</pre>

<hr />
<p>Composable filter class to concatenate two datasets.</p>
  <p>Usage:</p>
<pre class="literalblock">
   filter = Appendfilter(hxl.data(url), hxl.data(url2))
</pre>
  <p>This filter concatenates a second dataset to the end of the first one.
  It supports the <a href="hxl.model.Dataset-class.html#append" 
  class="link">hxl.model.Dataset.append</a> convenience method, and the <a 
  href="hxl.scripts-module.html#hxlappend" 
  class="link">hxl.scripts.hxlappend</a> command-line script.</p>
  <p>The filter preserves the order of the columns in the first dataset. If
  there are any columns in the second dataset that do not appear in the 
  first, then the behaviour depends on the value of the <i>add_columns</i> 
  property:</p>
  <ul>
    <li>
      if <code>True</code> (default), add extra columns from the second 
      dataset (and leave their values blank for the first).
    </li>
    <li>
      if <code>False</code>, ignore extra columns from the second dataset.
    </li>
  </ul>
  <p>Note that HXL tags must match exactly, including any tag attributes, 
  for two columns to be considered as matches.</p>
  <p>A common use case is be to start with an empty dataset as a template 
  so that the columns and headers are as desired in the final output, then 
  append other datasets to that, with <i>add_columns</i> set to 
  <code>False</code> to ignore any extra data in the dataset.</p>
  <p>To append multiple datasets, chain the filters:</p>
<pre class="literalblock">
   filter = HXLAppend(HXLAppend(hxl.data(url), hxl.data(url2), False), hxl.data(url3), False)
</pre>
  <p>Or, more intuitively (using the convenience methods):</p>
<pre class="literalblock">
   hxl.data(url).append(url2, False).append(url3, False)
</pre>
  <p>If you have an unknown number of URLs to append, try something like 
  this:</p>
<pre class="literalblock">
   source = hxl.data(template_url)
   for url in my_list_of_urls:
       source = AppendFilter(source, url, True)
</pre>
  <p>It's also possible to be selective about what you append, using the 
  <i>queries</i> parameter:</p>
<pre class="literalblock">
   filter = AppendFilter(source, source2, queries='org=UNICEF')
</pre>
  <p>In the second dataset, this filter will include <i>only</i> rows where
  the value &quot;UNICEF&quot; appears under the <code>#org</code> tag.</p>
  <p>This class class is a special case, neither a <a 
  href="hxl.filters.AbstractStreamingFilter-class.html" 
  class="link">streaming filter</a> nor a <a 
  href="hxl.filters.AbstractCachingFilter-class.html" class="link">caching 
  filter</a>; instead, it streams two separate datasets, one starting after
  the other, so it extends <a 
  href="hxl.filters.AbstractBaseFilter-class.html" 
  class="link">AbstractBaseFilter</a> directly, and implements its own 
  custom iterator.</p>

<hr />
<div class="fields">      <p><strong>See Also:</strong>
        <code class="link">MergeFilter</code>, which combines two datasets 
        horizontally rather than vertically.
      </p>
</div><!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Instance Methods</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="hxl.filters.AppendFilter-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">source</span>,
        <span class="summary-sig-arg">append_source</span>,
        <span class="summary-sig-arg">add_columns</span>=<span class="summary-sig-default">True</span>,
        <span class="summary-sig-arg">queries</span>=<span class="summary-sig-default">[]</span>)</span><br />
      Construct a new <i>AppendFilter</i></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="hxl.filters-pysrc.html#AppendFilter.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="hxl.filters.AppendFilter-class.html#filter_columns" class="summary-sig-name">filter_columns</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Internal: generate the columns for the combined dataset</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="hxl.filters-pysrc.html#AppendFilter.filter_columns">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="hxl.filters.AppendFilter-class.html#__iter__" class="summary-sig-name">__iter__</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Get the iterator over the rows.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="hxl.filters-pysrc.html#AppendFilter.__iter__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="hxl.filters.AbstractBaseFilter-class.html">AbstractBaseFilter</a></code></b>:
      <code><a href="hxl.filters.AbstractBaseFilter-class.html#columns">columns</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="hxl.model.Dataset-class.html">model.Dataset</a></code></b>:
      <code><a href="hxl.model.Dataset-class.html#add_columns">add_columns</a></code>,
      <code><a href="hxl.model.Dataset-class.html#append">append</a></code>,
      <code><a href="hxl.model.Dataset-class.html#cache">cache</a></code>,
      <code><a href="hxl.model.Dataset-class.html#clean_data">clean_data</a></code>,
      <code><a href="hxl.model.Dataset-class.html#count">count</a></code>,
      <code><a href="hxl.model.Dataset-class.html#dedup">dedup</a></code>,
      <code><a href="hxl.model.Dataset-class.html#display_tags">display_tags</a></code>,
      <code><a href="hxl.model.Dataset-class.html#gen_csv">gen_csv</a></code>,
      <code><a href="hxl.model.Dataset-class.html#gen_json">gen_json</a></code>,
      <code><a href="hxl.model.Dataset-class.html#gen_raw">gen_raw</a></code>,
      <code><a href="hxl.model.Dataset-class.html#get_value_set">get_value_set</a></code>,
      <code><a href="hxl.model.Dataset-class.html#has_headers">has_headers</a></code>,
      <code><a href="hxl.model.Dataset-class.html#headers">headers</a></code>,
      <code><a href="hxl.model.Dataset-class.html#merge_data">merge_data</a></code>,
      <code><a href="hxl.model.Dataset-class.html#rename_columns">rename_columns</a></code>,
      <code><a href="hxl.model.Dataset-class.html#replace_data">replace_data</a></code>,
      <code><a href="hxl.model.Dataset-class.html#replace_data_map">replace_data_map</a></code>,
      <code><a href="hxl.model.Dataset-class.html#row_counter">row_counter</a></code>,
      <code><a href="hxl.model.Dataset-class.html#sort">sort</a></code>,
      <code><a href="hxl.model.Dataset-class.html#tags">tags</a></code>,
      <code><a href="hxl.model.Dataset-class.html#validate">validate</a></code>,
      <code><a href="hxl.model.Dataset-class.html#values">values</a></code>,
      <code><a href="hxl.model.Dataset-class.html#with_columns">with_columns</a></code>,
      <code><a href="hxl.model.Dataset-class.html#with_rows">with_rows</a></code>,
      <code><a href="hxl.model.Dataset-class.html#without_columns">without_columns</a></code>,
      <code><a href="hxl.model.Dataset-class.html#without_rows">without_rows</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__format__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__sizeof__</code>,
      <code>__str__</code>,
      <code>__subclasshook__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Class Variables</span></td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="hxl.filters.AbstractBaseFilter-class.html">AbstractBaseFilter</a></code></b>:
      <code><a href="hxl.filters.AbstractBaseFilter-class.html#__metaclass__">__metaclass__</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== INSTANCE VARIABLES ==================== -->
<a name="section-InstanceVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Instance Variables</span></td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="hxl.filters.AbstractBaseFilter-class.html">AbstractBaseFilter</a></code></b>:
      <code><a href="hxl.filters.AbstractBaseFilter-class.html#source">source</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Properties</span></td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Method Details</span></td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">source</span>,
        <span class="sig-arg">append_source</span>,
        <span class="sig-arg">add_columns</span>=<span class="sig-default">True</span>,
        <span class="sig-arg">queries</span>=<span class="sig-default">[]</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="hxl.filters-pysrc.html#AppendFilter.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Construct a new <i>AppendFilter</i></p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>source</code></strong> - a <a href="hxl.model.Dataset-class.html" 
          class="link">hxl.model.Dataset</a> object for the principal data</li>
        <li><strong class="pname"><code>append_source</code></strong> - a <a href="hxl.model.Dataset-class.html" 
          class="link">hxl.model.Dataset</a> object for the dataset to 
          append (or a string containing a URL)</li>
        <li><strong class="pname"><code>add_columns</code></strong> - flag for adding extra columns in append_source but not source 
          (default True)</li>
        <li><strong class="pname"><code>queries</code></strong> - optional list of <a href="hxl.model.RowQuery-class.html" 
          class="link">hxl.model.RowQuery</a> objects (or a single strig) 
          to select which rows to include from the second dataset</li>
    </ul></dd>
    <dt>Overrides:
        object.__init__
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="filter_columns"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">filter_columns</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="hxl.filters-pysrc.html#AppendFilter.filter_columns">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Internal: generate the columns for the combined dataset</p>
  <dl class="fields">
    <dt>Returns:</dt>
        <dd>a list of hxl.model.Column objects</dd>
    <dt>Overrides:
        <a href="hxl.filters.AbstractBaseFilter-class.html#filter_columns">AbstractBaseFilter.filter_columns</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="__iter__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__iter__</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="hxl.filters-pysrc.html#AppendFilter.__iter__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the iterator over the rows.</p>
  <dl class="fields">
    <dt>Overrides:
        <a href="hxl.model.Dataset-class.html#__iter__">model.Dataset.__iter__</a>
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="hxl-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1
    on Fri Feb  5 15:21:26 2016
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
