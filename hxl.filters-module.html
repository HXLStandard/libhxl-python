<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>hxl.filters</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="hxl-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="hxl-module.html">Package&nbsp;hxl</a> ::
        Module&nbsp;filters
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module filters</h1><p class="nomargin-top"><span class="codelink"><a href="hxl.filters-pysrc.html">source&nbsp;code</a></span></p>
<p>Data filter classes for the Humanitarian Exchange Language (HXL) 
  v1.0</p>
  <p>Filters are virtual <a href="hxl.model.Dataset-class.html" 
  class="link">datasets</a> that read from <i>other</i> datasets and modify
  them on the fly. Most of the filter classes here have corresponding 
  convenience methods in the <a href="hxl.model.Dataset-class.html" 
  class="link">hxl.model.Dataset</a> class, such as <a 
  href="hxl.model.Dataset-class.html#sort" class="link">sort()</a> for <a 
  href="hxl.filters.SortFilter-class.html" class="link">SortFilter</a>:</p>
<pre class="literalblock">
 # Filter as a class
 source = SortFilter(hxl.data('http://example.org/data.csv'))

 # Filter as a method
 source = hxl.data('http://example.org/data.csv).sort()
</pre>
  <p>Most filters do not keep a copy of the data internally, so it is 
  efficient to chain many filters together:</p>
<pre class="literalblock">
 source = hxl.data(url).with_rows('org=UNICEF').with_rows('sector=Education')
</pre>
  <p>Some filters, however, do have to keep a cached version of the data 
  internally, such as <a href="hxl.filters.SortFilter-class.html" 
  class="link">SortFilter</a>, <a href="hxl.filters.CountFilter-class.html"
  class="link">CountFilter</a>, and <a 
  href="hxl.filters.CacheFilter-class.html" class="link">CacheFilter</a>. 
  If you are working with very large datasets, you should be aware of this 
  limitation (for example, it is better to sort <i>after</i> filtering out 
  a lot of rows, so that there will be less held in memory).</p>
  <p>If you are creating your own filters, you should normally subclass 
  them from <a href="hxl.filters.AbstractStreamingFilter-class.html" 
  class="link">AbstractStreamingFilter</a> (if they don't have to keep data
  internally) or <a href="hxl.filters.AbstractCachingFilter-class.html" 
  class="link">AbstractCachingFilter</a>, but you can also subclass the 
  lower-level <a href="hxl.filters.AbstractBaseFilter-class.html" 
  class="link">AbstractBaseFilter</a> directly for especially-complex 
  cases.</p>

<hr />
<div class="fields">      <p><strong>Author:</strong>
        David Megginson
      </p>
      <p><strong>Organization:</strong>
        UNOCHA
      </p>
      <p><strong>License:</strong>
        Public Domain
      </p>
      <p><strong>Date:</strong>
        Started October 2014
      </p>
      <p><strong>See Also:</strong>
        <a href="http://hxlstandard.org" target="_top">hxlstandard.org</a>
      </p>
</div><!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Classes</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.HXLFilterException-class.html" class="summary-name">HXLFilterException</a><br />
      Base class for HXL filter exceptions.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.AbstractBaseFilter-class.html" class="summary-name">AbstractBaseFilter</a><br />
      Abstract base class for composable filters.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.AbstractStreamingFilter-class.html" class="summary-name">AbstractStreamingFilter</a><br />
      Abstract base class for streaming filters.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.AbstractCachingFilter-class.html" class="summary-name">AbstractCachingFilter</a><br />
      Abstract base class for caching filters.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.Aggregator-class.html" class="summary-name">Aggregator</a><br />
      Class for aggregating a single value.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.AddColumnsFilter-class.html" class="summary-name">AddColumnsFilter</a><br />
      Composable filter class to add constant values to every row of a HXL 
      dataset.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.AppendFilter-class.html" class="summary-name">AppendFilter</a><br />
      Composable filter class to concatenate two datasets.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.CacheFilter-class.html" class="summary-name">CacheFilter</a><br />
      Composable filter to cache HXL data in memory.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.CleanDataFilter-class.html" class="summary-name">CleanDataFilter</a><br />
      Data-cleaning filter.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.ColumnFilter-class.html" class="summary-name">ColumnFilter</a><br />
      Composable filter class to remove columns from a HXL dataset.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.CountFilter-class.html" class="summary-name">CountFilter</a><br />
      Composable filter class to aggregate rows in a HXL dataset.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.DeduplicationFilter-class.html" class="summary-name">DeduplicationFilter</a><br />
      Composable filter to deduplicate a HXL dataset.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.ExplodeFilter-class.html" class="summary-name">ExplodeFilter</a><br />
      Explode a wide (series) dataset into a long version.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.MergeDataFilter-class.html" class="summary-name">MergeDataFilter</a><br />
      Composable filter class to merge values from two HXL datasets.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.RenameFilter-class.html" class="summary-name">RenameFilter</a><br />
      Composable filter class to rename columns in a HXL dataset.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.ReplaceDataFilter-class.html" class="summary-name">ReplaceDataFilter</a><br />
      Composable filter class to replace values in a HXL dataset.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.RowCountFilter-class.html" class="summary-name">RowCountFilter</a><br />
      Composable filter class to count lines.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.RowFilter-class.html" class="summary-name">RowFilter</a><br />
      Composable filter class to select rows from a HXL dataset.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters.SortFilter-class.html" class="summary-name">SortFilter</a><br />
      Composable filter class to sort a HXL dataset.
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Functions</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="req_arg"></a><span class="summary-sig-name">req_arg</span>(<span class="summary-sig-arg">spec</span>,
        <span class="summary-sig-arg">property</span>)</span><br />
      Get a required property, and raise an exception if missing.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="hxl.filters-pysrc.html#req_arg">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="opt_arg"></a><span class="summary-sig-name">opt_arg</span>(<span class="summary-sig-arg">spec</span>,
        <span class="summary-sig-arg">property</span>,
        <span class="summary-sig-arg">default_value</span>=<span class="summary-sig-default">None</span>)</span><br />
      Get an optional property, possibly with a default value.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="hxl.filters-pysrc.html#opt_arg">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="hxl.filters-module.html#from_recipe" class="summary-sig-name">from_recipe</a>(<span class="summary-sig-arg">source</span>,
        <span class="summary-sig-arg">recipe</span>)</span><br />
      Build a filter chain from a JSON-like list of filter specs.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="hxl.filters-pysrc.html#from_recipe">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="hxl.filters-module.html#is_sourcey" class="summary-sig-name">is_sourcey</a>(<span class="summary-sig-arg">arg</span>)</span><br />
      Convoluted method to try to distinguish a single HXL data source from
      a list of sources.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="hxl.filters-pysrc.html#is_sourcey">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Variables</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="hxl.filters-module.html#LOAD_MAP" class="summary-name">LOAD_MAP</a> = <code title="{'add_columns': AddColumnsFilter._load, 'append': AppendFilter._load, \
'cache': CacheFilter._load, 'clean_data': CleanDataFilter._load, 'coun\
t': CountFilter._load, 'dedup': DeduplicationFilter._load, 'explode': \
ExplodeFilter._load, 'merge_data': MergeDataFilter._load, 'rename_colu\
mns': RenameFilter._load, 'replace_data': ReplaceDataFilter._load, 're\
place_data_map': ReplaceDataFilter._load, 'sort': SortFilter._load, 'w\
ith_columns': ColumnFilter._load, 'with_rows': RowFilter._load, 'witho\
ut_columns': ColumnFilter._load, 'without_rows': RowFilter._load,}">{'add_columns': AddColumnsFilter._load, 'append': A<code class="variable-ellipsis">...</code></code><br />
      Static functions for creating filters from dicts (from JSON, 
      typically).
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Function Details</span></td>
</tr>
</table>
<a name="from_recipe"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">from_recipe</span>(<span class="sig-arg">source</span>,
        <span class="sig-arg">recipe</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="hxl.filters-pysrc.html#from_recipe">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Build a filter chain from a JSON-like list of filter specs.</p>
  <p>Each recipe dictionary contains the property 'filter', describing the 
  filter type, and zero or more other properties providing parameters for 
  the filter. Filter and parameter names are the same as the methods and 
  arguments in hxl.model.Dataset.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>source</code></strong> - a HXL data source, URL, etc.</li>
        <li><strong class="pname"><code>recipe</code></strong> - a list of dictionaries, each describing a filter.</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>the filter at the end of the new chain.</dd>
  </dl>
</td></tr></table>
</div>
<a name="is_sourcey"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">is_sourcey</span>(<span class="sig-arg">arg</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="hxl.filters-pysrc.html#is_sourcey">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Convoluted method to try to distinguish a single HXL data source from 
  a list of sources. Trying to recognise all the source types supported by 
  hxl.io.make_input</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>arg</code></strong> - the thing to test (we want to know if it's a single source or 
          lists of sources)</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>True if we think it's a single source; False otherwise.</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== VARIABLES DETAILS ==================== -->
<a name="section-VariablesDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Variables Details</span></td>
</tr>
</table>
<a name="LOAD_MAP"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">LOAD_MAP</h3>
  <p>Static functions for creating filters from dicts (from JSON, 
  typically).</p>
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
{'add_columns': AddColumnsFilter._load, 'append': AppendFilter._load, <span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
'cache': CacheFilter._load, 'clean_data': CleanDataFilter._load, 'coun<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
t': CountFilter._load, 'dedup': DeduplicationFilter._load, 'explode': <span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
ExplodeFilter._load, 'merge_data': MergeDataFilter._load, 'rename_colu<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
mns': RenameFilter._load, 'replace_data': ReplaceDataFilter._load, 're<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
place_data_map': ReplaceDataFilter._load, 'sort': SortFilter._load, 'w<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
ith_columns': ColumnFilter._load, 'with_rows': RowFilter._load, 'witho<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
ut_columns': ColumnFilter._load, 'without_rows': RowFilter._load,}
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="hxl-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1
    on Wed Dec  7 16:06:32 2016
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
