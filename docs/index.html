<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>hxl API documentation</title>
<meta name="description" content="Support library for the Humanitarian Exchange Language (HXL), version 1.0 …" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Package <code>hxl</code></h1>
</header>
<section id="section-intro">
<p>Support library for the Humanitarian Exchange Language (HXL), version 1.0.</p>
<p>This library provides support for parsing, validating, cleaning, and
transforming humanitarian datasets that follow the HXL standard. Its
use will be familiar to developers who have worked with libraries like
U{JQuery<a href="https://jquery.com">https://jquery.com</a>}.
Here's an example::</p>
<p>import hxl
data = hxl.data('data.xlsx', True).with_rows('org=UNICEF').without_columns('contact').count('country')</p>
<p>This two-line script performs the following actions:</p>
<ol>
<li>
<p>Load and parse the spreadsheet C{data.xlsx} (the library can also
load from any URL, and understands how to read Google
spreadsheets or U{CKAN<a href="http://ckan.org">http://ckan.org</a>} resources).</p>
</li>
<li>
<p>Filter out all rows where the value "UNICEF" doesn't appear under
the C{#org} (organisation) hashtag.</p>
</li>
<li>
<p>Strip out personally-identifiable information by removing all
columns with the C{#contact} hashtag (e.g. C{#contact+name},
C{#contact+phone}, C{#contact+email}).</p>
</li>
<li>
<p>Produce a report showing the number of times each unique
C{#country} appears in the resulting sheet (e.g. to count the number
of activities being conducted by UNICEF in each country).</p>
</li>
</ol>
<p>To get started, read the documentation for the L{hxl.data} function
and the L{hxl.model.Dataset} class. The various filters are also
available as command-line scripts, so you could perform the same
actions as above in a shell script like this::</p>
<p>$ cat data.xlsx | hxlselect -q 'org=UNICEF' | hxlcut -x contact | hxlcount -t country</p>
<p>@author: David Megginson
@organization: UNOCHA
@license: Public Domain
@date: Started August 2014
@see: U{<a href="http://hxlstandard.org}">http://hxlstandard.org}</a> for the HXL data standard
@see: U{<a href="https://proxy.hxlstandard.org}">https://proxy.hxlstandard.org}</a> for web-based deployment of this library</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;Support library for the Humanitarian Exchange Language (HXL), version 1.0.

This library provides support for parsing, validating, cleaning, and
transforming humanitarian datasets that follow the HXL standard. Its
use will be familiar to developers who have worked with libraries like
U{JQuery&lt;https://jquery.com&gt;}.  Here&#39;s an example::

  import hxl
  data = hxl.data(&#39;data.xlsx&#39;, True).with_rows(&#39;org=UNICEF&#39;).without_columns(&#39;contact&#39;).count(&#39;country&#39;)

This two-line script performs the following actions:

  1. Load and parse the spreadsheet C{data.xlsx} (the library can also
     load from any URL, and understands how to read Google
     spreadsheets or U{CKAN&lt;http://ckan.org&gt;} resources).

  2. Filter out all rows where the value &#34;UNICEF&#34; doesn&#39;t appear under
     the C{#org} (organisation) hashtag.

  3. Strip out personally-identifiable information by removing all
     columns with the C{#contact} hashtag (e.g. C{#contact+name},
     C{#contact+phone}, C{#contact+email}).

  4. Produce a report showing the number of times each unique
     C{#country} appears in the resulting sheet (e.g. to count the number
     of activities being conducted by UNICEF in each country).

To get started, read the documentation for the L{hxl.data} function
and the L{hxl.model.Dataset} class. The various filters are also
available as command-line scripts, so you could perform the same
actions as above in a shell script like this::

  $ cat data.xlsx | hxlselect -q &#39;org=UNICEF&#39; | hxlcut -x contact | hxlcount -t country

@author: David Megginson
@organization: UNOCHA
@license: Public Domain
@date: Started August 2014
@see: U{http://hxlstandard.org} for the HXL data standard
@see: U{https://proxy.hxlstandard.org} for web-based deployment of this library
&#34;&#34;&#34;

import sys

if sys.version_info &lt; (3,):
    raise RuntimeError(&#34;libhxl requires Python 3 or higher&#34;)

__version__=&#34;4.25.1&#34;
&#34;&#34;&#34;Module version number
see https://www.python.org/dev/peps/pep-0396/
&#34;&#34;&#34;

# Flatten out common items for easier access

class HXLException(Exception):
    &#34;&#34;&#34;Base class for all HXL-related exceptions.&#34;&#34;&#34;

    def __init__(self, message, data={}):
        &#34;&#34;&#34;Create a new HXL exception.

        Args:
            message (str): error message for the exception
            data (dict): properties associated with the exception (default {})
        &#34;&#34;&#34;
        super(Exception, self).__init__(message)

        self.message = message
        &#34;&#34;&#34;The human-readable error message.&#34;&#34;&#34;

        self.data = data
        &#34;&#34;&#34;Additional properties related to the error.&#34;&#34;&#34;

    def __str__(self):
        return &#34;&lt;HXLException: &#34; + str(self.message) + &#34;&gt;&#34;

import hxl.geo
import hxl.datatypes
from hxl.model import TagPattern, Dataset, Column, Row, RowQuery
from hxl.input import data, tagger, HXLParseException, write_hxl, make_input, InputOptions, from_spec
from hxl.validation import schema, validate, HXLValidationException

# end


        </code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="hxl.converters" href="converters.html">hxl.converters</a></code></dt>
<dd>
<div class="desc"><p>Data-conversion classes …</p></div>
</dd>
<dt><code class="name"><a title="hxl.datatypes" href="datatypes.html">hxl.datatypes</a></code></dt>
<dd>
<div class="desc"><p>Utility functions for testing and normalising scalar-ish data types …</p></div>
</dd>
<dt><code class="name"><a title="hxl.filters" href="filters.html">hxl.filters</a></code></dt>
<dd>
<div class="desc"><p>Data filter classes for the Humanitarian Exchange Language (HXL) v1.0 …</p></div>
</dd>
<dt><code class="name"><a title="hxl.formulas" href="formulas/index.html">hxl.formulas</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="hxl.geo" href="geo.html">hxl.geo</a></code></dt>
<dd>
<div class="desc"><p>Geodata operations …</p></div>
</dd>
<dt><code class="name"><a title="hxl.input" href="input.html">hxl.input</a></code></dt>
<dd>
<div class="desc"><p>Input/output library for the Humanitarian Exchange Language (HXL) v1.0 …</p></div>
</dd>
<dt><code class="name"><a title="hxl.model" href="model.html">hxl.model</a></code></dt>
<dd>
<div class="desc"><p>Main data-model classes for the Humanitarian Exchange Language (HXL) …</p></div>
</dd>
<dt><code class="name"><a title="hxl.scripts" href="scripts.html">hxl.scripts</a></code></dt>
<dd>
<div class="desc"><p>Console scripts
David Megginson
April 2015 …</p></div>
</dd>
<dt><code class="name"><a title="hxl.validation" href="validation.html">hxl.validation</a></code></dt>
<dd>
<div class="desc"><p>Validation code for the Humanitarian Exchange Language (HXL) v1.0
David Megginson
Started October 2014 …</p></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="hxl.HXLException"><code class="flex name class">
<span>class <span class="ident">HXLException</span></span>
<span>(</span><span>message, data={})</span>
</code></dt>
<dd>
<div class="desc"><p>Base class for all HXL-related exceptions.</p>
<p>Create a new HXL exception.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>message</code></strong> :&ensp;<code>str</code></dt>
<dd>error message for the exception</dd>
<dt><strong><code>data</code></strong> :&ensp;<code>dict</code></dt>
<dd>properties associated with the exception (default {})</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class HXLException(Exception):
    &#34;&#34;&#34;Base class for all HXL-related exceptions.&#34;&#34;&#34;

    def __init__(self, message, data={}):
        &#34;&#34;&#34;Create a new HXL exception.

        Args:
            message (str): error message for the exception
            data (dict): properties associated with the exception (default {})
        &#34;&#34;&#34;
        super(Exception, self).__init__(message)

        self.message = message
        &#34;&#34;&#34;The human-readable error message.&#34;&#34;&#34;

        self.data = data
        &#34;&#34;&#34;Additional properties related to the error.&#34;&#34;&#34;

    def __str__(self):
        return &#34;&lt;HXLException: &#34; + str(self.message) + &#34;&gt;&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.Exception</li>
<li>builtins.BaseException</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="hxl.filters.HXLFilterException" href="filters.html#hxl.filters.HXLFilterException">HXLFilterException</a></li>
<li><a title="hxl.input.HXLIOException" href="input.html#hxl.input.HXLIOException">HXLIOException</a></li>
<li><a title="hxl.validation.HXLValidationException" href="validation.html#hxl.validation.HXLValidationException">HXLValidationException</a></li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="hxl.HXLException.data"><code class="name">var <span class="ident">data</span></code></dt>
<dd>
<div class="desc"><p>Additional properties related to the error.</p></div>
</dd>
<dt id="hxl.HXLException.message"><code class="name">var <span class="ident">message</span></code></dt>
<dd>
<div class="desc"><p>The human-readable error message.</p></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="hxl.converters" href="converters.html">hxl.converters</a></code></li>
<li><code><a title="hxl.datatypes" href="datatypes.html">hxl.datatypes</a></code></li>
<li><code><a title="hxl.filters" href="filters.html">hxl.filters</a></code></li>
<li><code><a title="hxl.formulas" href="formulas/index.html">hxl.formulas</a></code></li>
<li><code><a title="hxl.geo" href="geo.html">hxl.geo</a></code></li>
<li><code><a title="hxl.input" href="input.html">hxl.input</a></code></li>
<li><code><a title="hxl.model" href="model.html">hxl.model</a></code></li>
<li><code><a title="hxl.scripts" href="scripts.html">hxl.scripts</a></code></li>
<li><code><a title="hxl.validation" href="validation.html">hxl.validation</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="hxl.HXLException" href="#hxl.HXLException">HXLException</a></code></h4>
<ul class="">
<li><code><a title="hxl.HXLException.data" href="#hxl.HXLException.data">data</a></code></li>
<li><code><a title="hxl.HXLException.message" href="#hxl.HXLException.message">message</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>